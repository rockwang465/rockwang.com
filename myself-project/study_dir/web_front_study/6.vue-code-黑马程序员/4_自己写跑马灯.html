<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>跑马灯</title>
    <script src="./lib/vue-2.4.0.js"></script>
</head>
<body>
<div id="app">
    <input type="button" value="浪起来" @click="lang">
    <input type="button" value="别浪啦" @click="stop2">
    <h4>{{ msg }}</h4>
</div>

<script>
    var vm = new Vue({
        el: '#app',
        data: {
            msg: '我跑起来了！~~',
            intervalId: null
        },
        methods: {
            //  第一种写法
            // lang() {
            //     var _this = this;
            //     var interval1 = setInterval(function () {
            //         console.log("langqilaia");
            //         var start = _this.msg.substring(0, 1);
            //         var end = _this.msg.substring(1);
            //         _this.msg = end + start;
            //     }, 400)
            // },


            lang() {
                if (this.intervalId != null) return;  //这里忘记加this
                this.intervalId = setInterval(() => {  //这里忘记加this
                    var start = this.msg.substring(0, 1);
                    console.log(start);
                    var end = this.msg.substring(1);
                    console.log(end);
                    this.msg = end + start;  //这里忘记加this
                    console.log(this.msg);
                    console.log(this.intervalId);
                }, 400)
            },

            stop2() {
                clearInterval(this.intervalId);  //这里忘记加this
                this.intervalId=null;  //这里忘记加this
            }
        }
    })
</script>
</body>
</html>