# -*- coding:utf-8 -*- 

import os
import sys
import json
import base64
import requests

class api_main():
    def __init__(self):
        print u"""
                    ------1.特征提取
                    ------2.人脸检索
                    ------3.退出
        """
        number_1 = raw_input("API#")
        if number_1 == "1":
            feature()
        elif number_1 == "2":
            face_retrieve()
        elif number_1 == "3":
            sys.exit()
        else:
            self.__init__()

class feature():
    def __init__(self):
        print u""" 
                    -------1.新建提特征任务
                    -------2.查询所有特征任务
                    -------3.退出
        """
        number_2 = raw_input('API#')
        if number_2 == "1":
            task_add()
        elif number_2 == "2":
            task_query() 
        elif number_2 == "3":
            sys.exit()
        else:
            self.__init__()

class task_add():
    def __init__(self):
        apth_1 = raw_input(unicode("请输入绝对路径：",'utf-8').encode('gbk'))
        url_1 = "http://127.0.0.1:8100/task/add"
        data_1 = json.dumps({'url':path_1,'lib_name':'FUN'})
        req_1 = requests.post(url_1,data=data_1)
        print req_1.text

class task_query():
    def __init__(self):
        url_2 = "http://127.0.0.1:8100/task/query"
        data_2 = json.dumps({})
        req_2 = requests.post(url_2,data=data_2)
        print req_2.text

class face_retrieve():
    def __init__(self):
        print u"""
                    -------1.人脸检索
                    -------2.人脸库操作
                    -------3.库中人脸删除，更新，查询
                    -------4.人脸验证
                    -------5.其他
                    -------6.退出
        """
        number_3 = raw_input('API#')
        if number_3 == "1":
            retrieve_api()
        elif number_3 == "2":
            library_api()
        elif number_3 == "3":
            feature_api()
        elif number_3 == "4":
            facedetect_api()
        elif number_3 == "5":
            facefeature_api()
        elif number_3 == "6":
            sys.exit()
        else:
            self.__init__()

class retrieve_api():
    def __init__(self):
        print u"""
                    ----------1.检索接口（多脸）
                    ----------2.检索接口（最大脸）
                    ----------3.特征检索接口
                    ----------4.退出
        """
        number_4 = raw_input('API#')
        if number_4 == "1":
            retrieve_multifaces()
        elif number_4 == "2":
            retrieve()
        elif number_4 == "3":
            feature_retrieve()
        elif number_4 == "4":
            sys.exit()
        else:
            self.__init__()
        
class retrieve_multifaces():
    def __init__(self):
        rea_3 = open('1.jpg','rb')
        path_3 = base64.b64encode(rea_3.read())
        url_3 = "http://127.0.0.1:8181/retrieve_multifaces"
        data_3 = json.dumps({'picture':path_3,'libs':[1,2,3],'topn':3,'threshold':0.3})
        req_3 = requests.post(url_3,data_3)
        print req_3.text

class retrieve():
    def __init__(self):
        rea_4 = open('1.jpg','rb')
        path_4 = base64.b64encode(rea_4.read())
        url_4 = "http://127.0.0.1:8181/retrieve"
        data_4 = json.dumps({'picture':path_4,'libs':[1,2,3],'topn':3,'threshold':0.3})
        req_4 = requests.post(url_4,data_4)
        print req_4.text

class feature_retrieve():
    def __init__(self):
        url_5 = "http://127.0.0.1:8181/feature_retrieve"
        data_5 = json.dumps({'feature': [ 0.001740215695463121, 0.00854472815990448, -0.005903574172407389, 0.0008069256437011063, 0.01161131076514721, -0.01563460752367973, -0.007356018759310246, -0.002823466435074806, 0.003515804419294, 0.05703050270676613, 0.03566160798072815, 0.04815810918807983, -0.004254682920873165, 0.0212416909635067, 0.01536896359175444, -0.06906656920909882, 0.03721702843904495, 0.01434116810560226, 0.0874909982085228, 0.05098197236657143, -0.02767529897391796, -0.02103349938988686, -0.05820852518081665, 0.03376642242074013, -0.03784949705004692, 0.009392948821187019, -0.007111492566764355, 0.02001219242811203, -0.0004142963443882763, 0.002878504805266857, -0.006798405665904284, 0.04884164407849312, 0.003819015342742205, -0.002751627238467336, 0.03809329122304916, -0.02468387968838215, 0.001097959466278553, -0.0003034041437786072, 0.001042774179950356, -0.02579447999596596, 0.02153337560594082, 0.002989341039210558, -0.02193408459424973, 0.03589070215821266, -0.01651669666171074, 0.03980279713869095, -0.01204532943665981, -0.03698845580220222, -0.01500421296805143, 0.03129170089960098, -0.01693720743060112, 0.04777158051729202, -0.06329522281885147, -0.01125781890004873, -0.03983474895358086, 0.02332289703190327, 0.03123049065470695, -0.01471435092389584, 0.0120900422334671, 0.110747218132019, 0.0127918291836977, 0.03291190788149834, 0.00826350599527359, -0.06336256861686707, -0.01727380976080894, -0.02154058776795864, 0.01381916739046574, -0.04315861314535141, -0.03016172349452972, -0.04542207345366478, 0.02906016074120998, 0.05432700738310814, -0.0203179195523262, 0.0436970628798008, -0.02920502796769142, 0.02062101103365421, 0.02122123911976814, 0.02696399763226509, 0.009441071189939976, 0.01924881525337696, -0.04272215068340302, 0.02486678026616573, 0.00996415875852108, -0.01113339047878981, 0.009278871119022369, 0.01501363050192595, -0.02109752967953682, 0.02755497954785824, 0.00977385975420475, 0.02729297615587711, 0.01644066721200943, -0.03346602618694305, 0.01707309670746326, -0.04543768242001534, -0.03429560363292694, 0.003509958973154426, -0.02260973863303661, -0.005683549214154482, 0.0420919731259346, -0.009424940682947636, -0.006940254475921392, -0.0242234580218792, 0.03379778563976288, -0.03203035891056061, -0.02085260301828384, 0.008395171724259853, -0.02987163513898849, -0.02359878458082676, 0.01107369270175695, -0.03776802867650986, 0.03841885924339294, -0.03029817529022694, 0.001385029987432063, -0.0003112436679657549, 0.02862130105495453, 0.04091070964932442, 0.03558540716767311, 0.01360639650374651, 0.0370555967092514, -0.04760717228055, 0.01563509926199913, -0.005723071750253439, -0.0003811968490481377, 0.01208976935595274, 0.009680203162133694, -0.04048757255077362, -0.008388038724660873, -0.02847198583185673, -0.03801051154732704, 0.05378346890211105, 0.0007034307927824557, 0.007033812813460827, 0.03114862181246281, 0.006280551198869944, -0.003817093791440129, -0.01699461601674557, 0.02259838208556175, -0.004745278507471085, -0.02107206918299198, 0.01405847817659378, -0.04186086356639862, -0.04438409581780434, -0.03909042105078697, 0.0136531163007021, 0.007993650622665882, -0.04135903343558311, 0.02025127969682217, -0.002138407435268164, -0.01316769700497389, 0.04489372670650482, 0.0401642806828022, -0.01024974137544632, 0.005660722963511944, 0.05526158213615417, 0.003479491453617811, -0.002219789428636432, -0.005979387555271387, -0.007679033558815718, -0.02169986627995968, 0.02990684285759926, -0.03182661533355713, 0.03664800897240639, -0.05587707087397575, 0.01116185169667006, -0.01883069612085819, -0.02243113704025745, 0.05212872475385666, 0.06133802235126495, 0.001332967774942517, 0.007686995435506105, 0.02693075686693192, 0.06153371930122375, -0.01735217124223709, 0.01640399917960167, 0.002126389183104038, 0.01591046154499054, -0.05371749401092529, 0.02390015684068203, 0.01627767272293568, 0.02251665852963924, -0.03889757767319679, 0.01484208926558495, -0.0509013719856739, 0.009706598706543446, -0.05558538809418678, 0.02105463854968548, 0.007174146361649036, 0.0001983208203455433, 0.008700717240571976, -0.008457818068563938, 0.01110904105007648, 0.0283760130405426, -0.005272292997688055, 0.005505203735083342, 0.02374745905399323, -0.04557791352272034, 0.00355494674295187, -0.01762431114912033, 0.004788910504430532, 0.03006203286349773, 0.0008966710302047431, -0.01628625579178333, -0.02511629275977612, 0.05113178864121437, 0.002821180736646056, 0.02783748507499695, 0.001885769190266728, -0.006121928803622723, -0.005239319521933794, 0.02023281157016754, -0.03304913640022278, 0.0184225756675005, 0.02179897390305996, -0.04620362818241119, -0.02619544602930546, 0.004529854282736778, 0.0143559854477644, 0.007307319436222315, 0.005140970461070538, -0.0695297047495842, 0.006056850776076317, 0.04660755023360252, 0.002903333632275462, -0.01426709908992052, -0.007689206395298243, -0.02567021921277046, -0.02107645943760872, 0.01529082003980875, -0.009872226975858212, 0.002684370614588261, -0.003423827467486262, 0.0704607293009758, 0.009819396771490574, -0.07291175425052643, -0.02957335487008095, 0.03618186339735985, -0.03885655477643013, -0.04296661540865898, 0.002989916363731027, -0.02462106011807919, -0.04969341680407524, 0.01762273721396923, 0.003391439793631434, 0.02041931450366974, 0.001610965118743479, 0.01952493190765381, -0.01241931412369013, -0.05197772011160851, 0.03286204114556313, 0.0298818051815033, -0.03561976552009583, -0.02660940587520599, 0.01546690799295902, 0.02928994037210941, 0.03789554536342621, -0.0004025318485219032, -0.01067581307142973, -0.04499321803450584, 0.04284222424030304, 0.01693638600409031, -0.02703721635043621, -0.02336111664772034, -0.002121985191479325, 0.006254419684410095, 0.02838968299329281, 0.0008741525816731155, -0.005763281602412462, -0.01323718763887882, 0.02207891643047333, 0.0229167528450489, -0.01807945035398006, -0.009207334369421005, -0.01272803824394941, -0.01668044179677963, -0.05497828125953674, 0.01386735122650862, 0.006862265523523092, -0.006011064164340496, 0.03335343301296234, -0.006732779089361429, -0.01493771281093359, -0.01340283360332251, -0.07054920494556427, -0.01372312754392624, -0.01365085411816835, -0.0508103221654892, -0.05705625936388969, 0.01683144830167294, 0.003344315802678466, -0.03164464980363846, -0.01621054671704769, -0.003979327622801065, 0.05456991493701935, 0.02822775766253471, 0.03150025382637978, 0.02541146799921989, -0.04765269905328751, -0.002855813829228282, -0.02063112519681454, -0.001700636348687112, 0.03114712238311768, -0.04408468678593636, 0.02080802246928215, -0.02611486613750458, 0.01959848962724209, -0.01944243162870407, -0.008522116579115391, 0.003223835257813334, -0.02202863059937954, 0.050974290817976, -0.0289855133742094, -0.007070798892527819, -0.01422415394335985, -0.04578916728496552, -0.01669093035161495, -0.07132301479578018, -0.004510204773396254, -0.03703552484512329, 0.001305272686295211, -0.01794649474322796, 0.0238670464605093, 0.006655170582234859, 0.1120414510369301, -0.02537493780255318, 0.004397606011480093, -0.01338047534227371, -0.03722232207655907, 0.04653454571962357, -0.00569785013794899, 0.02693395689129829, -0.01714651845395565, 0.02093507908284664, -0.02692843787372112, -0.04946620017290115, -0.03421364352107048, 0.00587390223518014, -0.05106968060135841, 0.03463971987366676, -0.005538538098335266, -0.03643174469470978, -0.01666448451578617, -0.0197230763733387, -0.01645942963659763, 0.06485218554735184, -0.001984077040106058, 0.04502905905246735, -0.01793309859931469, 0.005240519996732473, -0.009801905602216721, -0.007716750260442495, 0.03941890224814415, -0.02095125615596771, -0.03205987438559532, 0.05623723566532135, 0.04644181206822395, -0.04220831394195557, 0.02041546255350113, 0.0354994423687458, -0.007497461512684822, 0.03298842161893845, 0.002107572043314576, 0.04705065488815308, -0.007946073077619076, -0.002732664812356234, -0.001337952096946537, -0.03969694301486015, -0.0100608691573143, -0.02302565798163414, -0.06763723492622375, -0.01710928790271282, 0.002231313614174724, -0.05431612208485603, -0.03429907932877541, 0.01998667232692242, 0.02907832711935043, 0.0129457600414753, 0.04758504405617714, 0.02080659568309784, -0.06007016450166702, -0.01286654081195593, -0.01821801066398621, -0.008069824427366257, 0.01603765599429607, 0.01873541809618473, 0.03706317394971848, 0.03447703272104263, -0.0610898919403553, -0.04029564559459686, -0.01140331663191319, -0.04484120383858681, -0.02309114299714565, -0.06521280854940414, -0.04889572411775589, -0.0298564862459898, 0.008162327110767365, 0.01427992433309555, -0.006380179431289434, -0.05372700467705727, -0.03067692182958126, 0.01196516864001751, 0.03768442943692207, 0.01695434935390949, 0.01201888453215361, 0.01963307522237301, -0.01955623552203178, 0.01118144206702709, -0.02908826060593128, -0.0807390958070755, -0.03064125217497349, 0.008821309544146061, -0.007117141503840685, -0.004963553044945002, -0.0194869376718998, 0.01286044903099537, -0.02248828485608101, -0.06917372345924377, 0.02095463126897812, -0.04641752317547798, 0.01729199476540089, 0.01603100262582302, 0.00146310159470886, 0.04073112457990646, -0.05275676026940346, 0.03934263065457344, -0.00708463042974472, 0.02959015220403671, 0.04510044306516647, 0.04175750911235809, 0.02106106281280518, 0.01259569637477398, -0.01772529259324074, -0.002942402614280581, -0.05327750742435455, -0.0007661642739549279, 0.02021624520421028, -0.008115055039525032, 0.007205406203866005, 0.001863393699750304, 0.06279055029153824, -0.01961559616029263, -0.04317811131477356, -0.04103129357099533, -0.01743999868631363, 0.04635545611381531, 0.03483307734131813, -0.04641043022274971, 0.0607706606388092, -0.02733117714524269, -0.02185340598225594, -0.01486355252563953, -0.007587234489619732, -0.005839555989950895, 0.04263349622488022, 0.001626462559215724, -0.01736196875572205, -0.02652519382536411, 0.02956757321953773, 0.0284434724599123, -0.01575400307774544, -0.02178362943232059, 0.006297732703387737, -0.02354048192501068, -0.01908527873456478, -0.04798984155058861, 0.0517951101064682, 0.01236581802368164, -0.0482572540640831, -0.04084569215774536, -0.01082701794803143, -0.02716483175754547, -0.03181423246860504, -0.0584862232208252, -0.04116365313529968, -0.03172343596816063, 0.06856031715869904, 0.04500888288021088, -0.04242617636919022, -0.01935055665671825, 0.05560607463121414, 0.007114117033779621, 0.04173586517572403, 0.02563655376434326, 0.0009323639678768814, 0.04911014810204506, 0.0539536364376545, -0.02679252438247204, -0.009505774825811386, 0.04696989059448242, 0.03065739758312702, 0.01304981205612421, 0.01831038109958172, -0.01834592781960964, 0.03365889564156532, -0.03537528216838837, -0.0325685553252697, -0.01721079275012016, -0.0150455953553319, 0.02822759002447128, -0.01290270313620567, 0.02145263366401196, 0.009425281547009945, -0.02386085502803326, -0.02621651440858841, -0.0270604956895113, -0.02099382691085339, 0.001013168250210583, 0.01957800053060055, 0.0374271385371685, 0.01378223299980164, 0.03245250880718231, -0.005261785350739956, 0.01776282675564289, 0.006941891275346279, 0.04393653199076653, 0.02330806292593479, -0.01343987509608269, -0.01978545635938644, 0.03015644289553165, -0.01899950206279755, 0.02201228402554989, -0.01323189772665501, -0.03736858814954758, 0.01476595550775528, 0.02569054625928402, -0.03117796592414379, -0.009000693447887897, 0.02155649662017822, 0.00740808667615056, 0.05113951861858368, 0.004666129127144814, -0.03608699142932892, -0.02003233693540096, 0.008343931287527084, 0.04064042493700981, -0.04721948504447937, 0.02965917065739632, -0.02660717256367207, -0.01118926517665386, -0.01914221048355103, 0.004260105546563864, -0.02291470766067505, 0.03264300897717476, 0.01956059597432613, -0.004040652886033058, 0.03988652676343918, 0.02966714650392532, 0.01871282234787941, 0.04007473960518837, -0.01495562121272087, -0.02933879010379314, -0.02906516380608082, 0.05574196577072144, -0.05770065262913704, 0.01708909310400486, -0.00396445719525218, -0.04120436683297157, 0.05231299623847008, -0.01814312674105167, 0.02926003560423851, -0.01743833348155022, -0.09416014701128006, 0.02823806740343571, 0.01821995712816715, -0.02488876506686211, 0.06840059161186218, -0.01790361106395721, -0.06700322777032852, 0.03007121384143829, -0.002165771322324872, 0.02892694808542728, -0.02325315959751606, -0.02752892673015594, -0.003790038172155619, -0.02382497675716877, 0.00477310735732317, -0.01809005253016949, 0.04306318238377571, -0.02350894175469875, 0.02679701894521713, -0.01436736900359392, -0.02163661457598209, -0.01733866333961487, -0.0422661155462265, 0.05458498746156693, 0.04729847609996796, 0.007184514310210943, -0.0223191287368536, 0.02001509815454483, 0.07194839417934418, 0.01483179349452257, 0.01850951462984085, 0.007928986102342606, -0.02384002692997456, 0.01630296930670738, 0.02731973305344582, -0.04134519770741463, -0.04462884739041328, -0.02033798769116402, -0.01918869093060493, 0.0206580925732851, 0.0762171670794487, -0.005975273437798023, -0.06518300622701645, 0.0317499078810215, -0.03376577794551849, 0.007041825447231531, 0.0311425868421793, 0.03157596290111542, -0.03247452154755592, -0.03171281516551971, 0.02712840400636196, -0.08600784093141556, -0.02325140684843063, -0.04857750236988068, -0.03541644290089607, 0.005782583728432655, -0.0111592086032033, -0.0008566229371353984, -0.06536336243152618, 0.07388655841350555, -0.01404195372015238, 0.0404156781733036, 0.02200476825237274, -0.04251471534371376, -0.02045661583542824, -0.04655389860272408, 0.01995775476098061, -0.0003725499846041203, 0.07921057194471359, -0.01024090964347124, 0.04472015425562859, 0.01945945993065834, 0.03192573413252831, 0.007036755327135324, -0.001338075497187674, -0.009904555045068264, -0.0001113965408876538, -0.002295038197189569, 0.03174490854144096, 0.01694559678435326, 0.0211092010140419, 0.00312020955607295, 0.04102393612265587, -0.02848525159060955, -0.007697578985244036, 0.01789800077676773, -0.02341907285153866, -0.02996697090566158, 0.006039484869688749, -0.00328741711564362, 0.03677788749337196, 0.07746006548404694, -0.00750068062916398, -0.06260163336992264, -0.02765892259776592, -0.02949387207627296, -0.08061570674180984, 0.00178226619027555, -0.004228451289236546, 0.01435443665832281, -0.01812252588570118, 0.001652082079090178, 0.03091337159276009, 0.02667622268199921, -0.01579512469470501, 0.02849547192454338, -0.009230034425854683, -0.03660320118069649, 0.01598663441836834, -0.0460747703909874, -0.009850183501839638, -0.06163404136896133, -0.04327405244112015, -0.0383603647351265, 0.01462525222450495, -0.02766647189855576, -0.02455424889922142, 0.02372839860618114, 0.000981226097792387, 0.01116884313523769, 0.01111157704144716, -0.0004745749174617231, 0.03235819190740585, 0.008486134931445122, -0.002912693656980991, 0.01483024191111326, 0.01610853523015976, 0.06386483460664749, -0.03553343564271927, 0.01022590138018131, 0.02499487996101379, 0.002339705359190702, -0.001063850242644548, 0.02300487458705902, 0.008798192255198956, 0.01837322860956192, -0.006382421124726534, -0.008156735450029373, -0.006349398754537106, -0.01336384285241365, -0.003448573173955083, 0.0180863942950964, 0.02367028407752514, -0.02033652178943157, 0.01627036184072495, 0.01356765255331993, 0.04029808193445206, -0.008567342534661293, -0.002093784743919969, -0.04275064170360565, -0.0476452149450779, -0.01583205908536911, -0.005163022316992283, 0.0156550444662571, -0.02705089189112186, 0.01408636569976807, -0.01389990374445915, -0.05035942420363426, -0.002177120186388493, -0.001871974905952811, 0.01315618027001619, 0.01196879241615534, 0.02573426254093647, 0.02323079295456409, 0.0491170771420002, -0.0007337649585679173, -0.02180836908519268, 0.02786623127758503, -0.0574706643819809, -0.04527582973241806, 0.05749389156699181, 0.07198335230350494, 0.03506649285554886, 0.01554249506443739, -0.03409482911229134, -0.01100444607436657, -0.0241065789014101, 0.03937286138534546, 0.03880375251173973, 0.0102814482524991, -0.04921350628137589, -0.02778531424701214, -0.02246719971299171, -0.05574220791459084, 0.003193756565451622, -0.02707705646753311, 0.01613268442451954, -0.01054725144058466, -0.02969296090304852, -0.006949501112103462, -0.02345682680606842, -0.0381816141307354, -0.02931787818670273, 0.01604578457772732, 0.01060432009398937, 0.01385088730603456, -0.03813586384057999, -0.008812965825200081, 0.02910316176712513, -0.02035540342330933, -0.003933968022465706, -0.02671928703784943, 0.02073581703007221, 0.0306539423763752, 0.00466415099799633, -0.00679788226261735, 0.01938498206436634, 0.007606944069266319, 0.02267453819513321, -0.02137081883847713, -0.023389533162117, 0.0002199714799644426, 0.03530614823102951, -0.010957021266222, -0.008162256330251694, 0.001676505082286894, 0.01089754328131676, 0.01804124377667904, -0.01692831516265869, 0.006576851010322571, 0.02348251454532146, 0.003320771735161543, -0.0296217929571867, 0.02546900138258934, -0.001768676098436117, -0.0527222566306591, -0.04457720741629601, -0.007091860752552748, 0.001919442205689847, -0.02561718598008156, 0.008392365649342537, 0.01615267060697079, -0.01383621338754892, 0.01387041341513395, 0.01088777184486389, 0.01177212502807379, -0.02786313369870186, -0.002935253782197833, 0.03152688592672348, -0.04246044531464577, 0.02022442407906055, -0.0003401759313419461, -0.04956218600273132, -0.02595710009336472, 0.0152554688975215, 0.009466740302741528, -0.008362282067537308, -0.004599121399223804, -0.06433659791946411, 0.009493688121438026, -0.005566712468862534, 0.02618475444614887, -0.05250503495335579, -0.0291579831391573, -0.01215799897909164, 0.00171544763725251, 0.01054705213755369, 0.01160075049847364, 0.02779322117567062, -0.009812748059630394, 0.02137035317718983, 0.005267775617539883, 0.01395224966108799, -0.009941880591213703, 0.01073282398283482, -0.01107585243880749, -0.006648919079452753, 0.02308850549161434, 0.08045638352632523, -0.006526948418468237, 0.001254543429240584, -0.003770527429878712, -0.03527196124196053, -0.0483696460723877, -0.02067754976451397, 0.02152951620519161, 0.00731314392760396, 0.002656670287251472, -0.004810780752450228, 0.002696288982406259, -0.04196062684059143, -0.008229528553783894, 0.02021912671625614, -0.03679699450731277, -0.02470811270177364, -0.0723499059677124, 0.03535567224025726, 0.02148864604532719, 0.0031010159291327, 0.01958318240940571, -0.01304985024034977, 0.0264385063201189, -0.02387685142457485, 0.05289372056722641, -0.002382158068940043, -0.04359916597604752, 0.008426794782280922, 0.01169770769774914, 0.01379862707108259, -0.03240576758980751, -0.0028554224409163, -0.006416378542780876, 0.01489830669015646, -0.01318820938467979, 0.04563157632946968, 0.008988730609416962, -0.01754630543291569, -0.01146526541560888, -0.0795104131102562, -0.0050065484829247, -0.008691460825502872, 0.001026687561534345, -0.003051335923373699, -0.05848148837685585, -0.01415763888508081, -0.01438434980809689, -0.01494039129465818, -0.02844494953751564, 0.01623506098985672, -0.009896650910377502, -0.02687678299844265, -0.08583204448223114, -0.007365633267909288, 0.002698400989174843, -0.05921575054526329, -0.06433425098657608, 0.02278321608901024, 0.03515858575701714, -0.03179225698113441, -0.06391986459493637, 0.006630486343055964, -0.02441961877048016, 0.02099457196891308, -0.005459869746118784, -0.007941746152937412, -0.01248692069202662, -0.02799279987812042, -0.002231823746114969, -0.01065417658537626, -0.04190367087721825, 0.01800595037639141, -0.002471913583576679, -0.008732827380299568, 0.009052099660038948, -0.02164611220359802, -0.02872083708643913, 0.02670789510011673, -0.01363900955766439, 0.004627032671123743, 0.01696501486003399, 0.04560572281479836, 0.03071172535419464, -0.04144147038459778, -0.003278418444097042, 0.0004449058324098587, 0.05834081768989563, 0.02357904799282551, 0.02575086243450642, 0.004126988351345062, 0.04713569581508636, 0.05028873309493065, -0.02732612378895283, -0.0144140450283885, -0.09431151300668716, -0.01763326488435268, -8.791803702479228e-05, -0.08008921891450882, -0.002374941948801279, -0.01084023900330067, -0.03321969509124756, 0.05018381029367447, 0.01285911817103624, -0.02300826087594032, 0.01455945894122124, 0.06111101061105728, 0.0004319614963606, -0.06644301116466522, -0.01467439904808998, -0.03480319306254387, -0.01730372942984104, 0.00816518347710371, 0.008108748123049736, 0.003957198932766914, 0.01085170358419418, 0.01721254363656044, 0.006170233245939016, 0.0121882539242506, -0.02884729206562042, 0.04056282714009285, -0.0320366770029068, 0.05433407053351402, 0.02433685399591923, 0.006739404518157244, 0.04499606043100357, 0.02940809912979603, -0.03708354756236076, -0.02711464464664459, 0.07575361430644989, -0.003577509429305792, -0.02227162383496761, -0.0467383973300457, -0.01613443531095982, -0.02829766273498535, -0.003794459626078606, 0.02813115529716015, -0.004490066319704056, 0.0905778557062149, 0.03063495270907879, 0.01018883660435677, 0.02427635714411736, -0.05948805809020996, -0.06197329238057137, -0.01701349951326847, -0.007335842121392488, -0.05870527401566505, 0.0675516277551651, 0.06609032303094864, 0.005271032452583313, 0.05086024105548859, 0.02153713442385197, -0.02967404201626778, -0.09442264586687088, 0.02636407688260078, -0.03446586802601814, 0.03379351273179054, -0.02125727944076061, -0.05619119107723236, 0.01069098431617022, -0.01341698970645666, -0.04293015226721764, -0.00525779789313674, -0.01427253615111113, 0.002277121413499117, 0.06241315975785255, -0.001361264963634312, 0.01059394888579845, -0.01087538339197636, 0.0170771237462759, 0.004851825535297394, 0.04931849986314774, 0.00155846809502691, -0.005490836221724749, -0.01618029922246933, 0.01853654533624649, 0.04663069546222687, 0.0146176153793931, -0.06122970953583717, 0.04387727379798889, -0.07020281255245209, 0.01364497561007738, -0.02043166756629944, 0.03543486818671227, 0.01471486408263445, -0.00441897613927722, -0.08222756534814835, 0.01200980599969625, -0.03316434472799301, 0.04644464328885078, 0.03092357888817787, 0.0299262497574091, -0.02191121503710747, 0.002653844654560089, 0.03584906458854675, -0.04634159430861473],'libs':[1,2,3],'topn':3,'threshold':0.3})
        req_5 = requests.post(url_5,data=data_5)
        print req_5.text
        

class library_api():
    def __init__(self):
        print  u"""
                        ---------------1.建库
                        ---------------2.删库
                        ---------------3.查询库
                        ---------------4.增量入库
                        ---------------5.退出
        """
        number_5 = raw_input('API#')
        if number_5 == "1":
            buld_library()
        elif number_5 == "2":
            dele_library()
        elif number_5 == "3":
            sear_library()
        elif number_5 == "4":
            add_face()
        elif number_5 == "5":
            sys.exit()
        else:
            self.__init__()

class buld_library():
    def __init__(self):
        path_6 = raw_input(unicode("请输入特征库的绝对路径：",'utf-8').encode('gbk'))
        url_6 = "http://127.0.0.1:8181/library"
        data_6 = json.dumps({'path':path_6,'lib_id':1,'op':1})
        req_6 = requests.post(url_6,data_6)
        print req_6.text
class dele_library():
    def __init__(self):
        url_7 = "http://127.0.0.1:8181/library"
        data_7 = json.dumps({'lib_id':1,'op':2})
        req_7 = requests.post(url_7,data_7)
        print req_7.text
class sear_library():
    def __init__(self):
        url_8 = "http://127.0.0.1:8181/library"
        data_8 = json.dumps({'op':3})
        req_8 = requests.post(url_8,data_8)
        print req_8.text

class add_face():
    def __init__(self):
        rea_9 = open('1.jpg','rb')
        path_9 = base64.b64encode(rea_9.read())
        url_9 = "http://127.0.0.1:8181/addface"
        data_9 = json.dumps({'picture':path_9,'face_id':'123456','lib_id':1})
        req_9 = requests.post(url_9,data_9)
        print req_9.text

class feature_api():
    def __init__(self):
        print  u"""
                        ---------------1.库中指定人脸删除
                        ---------------2.库中指定人脸更新
                        ---------------3.库中人脸查询
                        ---------------4.退出
        """
        number_6 = raw_input('API#')
        if number_6 == "1":
            feature_del()
        elif number_6 == "2":
            feature_up()
        elif number_6 == "3":
            feature_sear()
        elif number_6 == "4":
            sys.exit()
        else:
            self.__init__()
class feature_del():
    def __init__(self):
        url_10 = "http://127.0.0.1:8181/feature"
        data_10 = json.dumps({'op':1,'face_id':'123456','lib_id':1})
        req_10 = requests.post(url_10,data_10)
        print req_10.text

class feature_up():
    def __init__(self):
        rea_11 = open('1.jpg','rb')
        path_11 = base64.b64encode(rea_11.read())
        url_11 = "http://127.0.0.1:8181/feature"
        data_11 = json.dumps({'picture':path_11,'face_id':'123456','lib_id':1,'op':2})
        req_11 = requests.post(url_11,data_11)
        print req_11.text

class feature_sear():
    def __init__(self):
        url_12 = "http://127.0.0.1:8181/feature"
        data_12 = json.dumps({'face_id':'123456','lib_id':1,'op':3})
        req_12 = requests.post(url_12,data_12)
        print req_12.text

class facedetect_api():
    def __init__(self):
        rea_13 = open('1.jpg','rb')
        path_13 = base64.b64encode(rea_13.read())
        url_13 = "http://127.0.0.1:8181/facedetect"
        data_13 = json.dumps({'picture':path_13})
        req_13 = requests.post(url_13,data_13)
        print req_13.text

class facefeature_api():
    def __init__(self):
        print u"""
                    ------------------1.提特征（最大脸）
                    ------------------2.提特征（多脸）
                    ------------------3.退出
        """
        number_7 = raw_input('API#')
        if number_7 == "1":
            facefeature()
        elif number_7 == "2":
            feature_multiface()
        elif number_7 == "3":
            sys.exit()
        else:
            self.__init__()
        
class facefeature():
    def __init__(self):
        rea_14 = open('1.jpg','rb')
        path_14 = base64.b64encode(rea_14.read())
        url_14 = "http://127.0.0.1:8181/facefeature"
        data_14 = json.dumps({'picture':path_14})
        req_14 = requests.post(url_14,data_14)
        print req_14.text

class feature_multiface():
    def __init__(self):
        rea_15 = open('1.jpg','rb')
        path_15 = base64.b64encode(rea_15.read())
        url_15 = "http://127.0.0.1:8181/facefeature_multifaces"
        data_15 = json.dumps({'picture':path_15})
        req_15 = requests.post(url_15,data_15)
        print req_15.text

if __name__=="__main__":
    api_main()